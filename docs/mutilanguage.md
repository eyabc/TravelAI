# 🌍 TravelAI 다국어 번역 기능 설계 (Multilanguage Support)

## ✅ 변경된 요구사항

기존에는 `ko`, `en`, `ja` 등 일부 정해진 언어만 지원하던 다국어 기능을 확장하여:

* 어떤 언어 쌍(출발 언어 → 대상 언어)이든 **자동으로 번역** 가능해야 함
* **AI 번역 기능 기반**으로 정확도와 문맥 보존력을 확보해야 함
* 사용자 언어, 여행지 언어가 달라도 자연스럽게 설명을 제공해야 함

---

## 📐 시스템 적용 설계

| 항목       | 변경 설계                                                 |
| -------- | ----------------------------------------------------- |
| 번역 처리 방식 | Rule-based → AI 기반 (LLM / NMT)                        |
| 대응 언어    | 모든 언어 대응 (UTF-8 및 ISO 코드 기준)                          |
| 번역 대상    | 명소 설명, 프롬프트 질문, 안내 문구, 반응 메시지 등                       |
| 번역 API   | `/translate?text=...&from=auto&to={lang}`             |
| 번역 엔진    | OpenAI GPT-4 / DeepL / Google Translate Advanced Tier |
| 문맥 보존    | LLM 사용 시 사용자 이전 응답 기반 번역 가능                           |
| 캐시 처리    | Redis / CDN 캐시로 반복 번역 방지 및 속도 최적화                     |

---

## 🧠 기술 스택 제안

| 목적          | 기술                           | 설명                  |
| ----------- | ---------------------------- | ------------------- |
| 고정밀 번역      | OpenAI GPT-4 API             | 문맥, 문화적 뉘앙스까지 번역 가능 |
| 대량 빠른 번역    | DeepL API / Google Translate | 속도 및 커버리지 보완        |
| i18n 리소스 관리 | i18next (with JSON)          | UI 다국어 리소스 구성       |
| 캐시          | Redis / Cloudflare CDN       | 응답 캐시 및 엣지 번역 처리    |

---

## 🔁 번역 처리 흐름 예시

**예)** 사용자 언어: Polish / 현지 장소 정보: 일본어

```text
1. 장소 설명(일본어) → GPT 또는 DeepL로 폴란드어 번역
2. 프롬프트 질문 텍스트 → 다국어 리소스 확인 후 없으면 번역 호출
3. 번역 결과는 Redis 캐시 저장 (1일 TTL)
```

---

## 🧪 향후 확장 포인트

* 번역 문장 교정(LLM로 post-editing)
* 사용자가 선호하는 표현/톤 학습
* 화면 단위 pre-translation 처리 (SSR)
* 음성 번역(STT + TTS)과 연계

---

## 📌 TODO 목록

* [ ] 번역 API 스펙 작성 (`/translate`)
* [ ] i18n 리소스 폴더 구조 생성
* [ ] GPT 번역 프롬프트 정의 (`system`, `user`, `example`)
* [ ] 캐시 전략 정의서 작성 (Redis key 구성 및 TTL 정책)
