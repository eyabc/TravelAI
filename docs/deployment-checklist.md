

# 🚀 배포 체크리스트 (Deployment Checklist)

이 문서는 TravelAI 서비스의 프로덕션 배포 전 최종 확인 사항을 정리한 체크리스트입니다. 인프라, 빌드, 테스트, 보안, 모니터링 등 모든 영역에서 실수를 방지하고 안정적인 배포를 보장합니다.

---

## ✅ 공통 사항

- [ ] Git 브랜치가 `main` 또는 `release/*` 인지 확인
- [ ] 최신 커밋이 리뷰 및 머지 완료 상태인지 확인
- [ ] CI/CD 상태가 "모든 테스트 통과"로 초록불인지 확인
- [ ] `.env.production` 파일 최신 여부 검토

---

## 🛠️ 빌드 및 배포 환경

- [ ] `NODE_ENV=production` 설정 확인
- [ ] Docker 이미지가 최신 코드로 빌드되었는지 확인
- [ ] 이미지 태그 관리 (`:latest` 사용 지양, 커밋 SHA 또는 버전 사용)
- [ ] 서버 리소스 (CPU, 메모리) 충분한지 사전 점검
- [ ] Auto Scaling / Load Balancer 설정 점검 (필요 시)

---

## 🔐 보안 체크

- [ ] `.env` 또는 Secrets에 민감 정보 노출 여부 확인
- [ ] CORS 설정이 운영 도메인에 맞게 되어있는지 확인
- [ ] API Rate Limit 설정 존재 여부 확인
- [ ] Swagger UI 비공개 또는 Basic Auth 설정 여부 확인
- [ ] GPT 및 번역 API 키가 운영용인지 확인

---

## 📦 번역 / 큐레이션

- [ ] 최신 번역 리소스가 반영되었는지 (`locales/` 디렉토리)
- [ ] `curation-prompts/*.yaml` 규칙이 올바른지 확인
- [ ] Prompt Loader가 예외 없이 로드되는지 확인
- [ ] 다국어 번역 캐시 Redis TTL 정상 작동 확인

---

## 🧪 테스트 / QA

- [ ] `/healthz` 엔드포인트 정상 작동 확인
- [ ] Swagger API 테스트 완료
- [ ] GPT 및 번역 요청 실제 응답 테스트
- [ ] 사용자 입력 → 영어 변환 → 큐레이션 매칭 → 응답 흐름 확인
- [ ] UI에서 다국어 메시지 정상 노출 확인

---

## 📊 모니터링 및 로깅

- [ ] Prometheus 메트릭 수집 확인 (cache_hit, gpt_latency 등)
- [ ] Kibana / Grafana 대시보드 접근 및 알림 설정 확인
- [ ] 에러 로그 Slack 알림 연동 확인
- [ ] CloudWatch / Sentry 등 외부 모니터링 설정 정상 작동 여부

---

## 💾 백업 및 롤백

- [ ] Redis / DB 백업 스냅샷 완료
- [ ] 이전 버전 Docker 이미지 태그 존재 여부 확인
- [ ] `docker-compose.yml` 또는 Helm Chart 버전 관리 확인
- [ ] 장애 시 롤백 절차 숙지 및 자동화 스크립트 준비

---

## 📦 배포 후 확인

- [ ] 실제 도메인에서 전체 플로우 테스트 완료
- [ ] GPT, 번역, 캐시 히트율 등 지표 모니터링 시작
- [ ] 사용자 피드백 수집 및 긴급 대응 담당자 지정

---

✅ **마지막 점검 후에만 배포를 진행해 주세요.**